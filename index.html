<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="input.css">
    <title>Sodoku Solver</title>
</head>
<body class="lg:bg-gradient-to-r lg:from-blue-400 lg:via-sky-400 lg:to-purple-400">
    <nav class="h-16 flex bg-emerald-400 justify-center">
        <div class="h-16 text-2xl py-4 font-semibold text-white" >Sodoku Solver</div>
    </nav>
    <section class="h-[22.5rem] w-[22.5rem] text-center text-3xl lg:bg-white lg:mx-[30rem]">
        <div class="h-[7.5rem] border-b-2 border-black flex">
            <div class="h-[7.5rem] w-[7.5rem] border-r border-black">
                <div class="h-[2.5rem] flex">
                    <div class="board1 h-[2.5rem] w-[2.5rem] border" onclick="func(0,0)"></div>
                    <div class="board1 h-[2.5rem] w-[2.5rem] border" onclick="func(0,1)"></div>
                    <div class="board1 h-[2.5rem] w-[2.5rem] border" onclick="func(0,2)"></div>
                </div>
                <div class="h-[2.5rem] flex">
                    <div class="board2 h-[2.5rem] w-[2.5rem] border" onclick="func(1,0)"></div>
                    <div class="board2 h-[2.5rem] w-[2.5rem] border" onclick="func(1,1)"></div>
                    <div class="board2 h-[2.5rem] w-[2.5rem] border" onclick="func(1,2)"></div>
                </div >
                <div class="h-[2.5rem] flex">
                    <div class="board3 h-[2.4rem] w-[2.5rem] border" onclick="func(2,0)"></div>
                    <div class="board3 h-[2.4rem] w-[2.5rem] border" onclick="func(2,1)"></div>
                    <div class="board3 h-[2.4rem] w-[2.5rem] border" onclick="func(2,2)"></div>
                </div>
            </div>
            <div class="h-[7.5rem] w-[7.5rem] border-r border-black">
                <div class="h-[2.5rem] flex">
                    <div class="board1 h-[2.5rem] w-[2.5rem] border" onclick="func(0,3)"></div>
                    <div class="board1 h-[2.5rem] w-[2.5rem] border" onclick="func(0,4)"></div>
                    <div class="board1 h-[2.5rem] w-[2.5rem] border" onclick="func(0,5)"></div>
                </div>
                <div class="h-[2.5rem] flex">
                    <div class="board2 h-[2.5rem] w-[2.5rem] border" onclick="func(1,3)"></div>
                    <div class="board2 h-[2.5rem] w-[2.5rem] border" onclick="func(1,4)"></div>
                    <div class="board2 h-[2.5rem] w-[2.5rem] border" onclick="func(1,5)"></div>
                </div >
                <div class="h-[2.5rem] flex">
                    <div class="board3 h-[2.4rem] w-[2.5rem] border" onclick="func(2,3)"></div>
                    <div class="board3 h-[2.4rem] w-[2.5rem] border" onclick="func(2,4)"></div>
                    <div class="board3 h-[2.4rem] w-[2.5rem] border" onclick="func(2,5)"></div>
                </div>
            </div>
            <div class="h-[7.5rem] w-[7.5rem]">
                <div class="h-[2.5rem] flex">
                    <div class="board1 h-[2.5rem] w-[2.5rem] border" onclick="func(0,6)"></div>
                    <div class="board1 h-[2.5rem] w-[2.5rem] border" onclick="func(0,7)"></div>
                    <div class="board1 h-[2.5rem] w-[2.5rem] border border-r-0" onclick="func(0,8)"></div>
                </div>
                <div class="h-[2.5rem] flex">
                    <div class="board2 h-[2.5rem] w-[2.5rem] border" onclick="func(1,6)"></div>
                    <div class="board2 h-[2.5rem] w-[2.5rem] border" onclick="func(1,7)"></div>
                    <div class="board2 h-[2.5rem] w-[2.5rem] border border-r-0" onclick="func(1,8)"></div>
                </div >
                <div class="h-[2.5rem] flex">
                    <div class="board3 h-[2.4rem] w-[2.5rem] border" onclick="func(2,6)"></div>
                    <div class="board3 h-[2.4rem] w-[2.5rem] border" onclick="func(2,7)"></div>
                    <div class="board3 h-[2.4rem] w-[2.5rem] border border-r-0" onclick="func(2,8)"></div>
                </div>
            </div>
        </div>
        <div class="h-[7.5rem] border-b-2 border-black flex">
            <div class="h-[7.5rem] w-[7.5rem] border-r border-black">
                <div class="h-[2.5rem] flex">
                    <div class="board4 h-[2.5rem] w-[2.5rem] border" onclick="func(3,0)"></div>
                    <div class="board4 h-[2.5rem] w-[2.5rem] border" onclick="func(3,1)"></div>
                    <div class="board4 h-[2.5rem] w-[2.5rem] border" onclick="func(3,2)"></div>
                </div>
                <div class="h-[2.5rem] flex">
                    <div class="board5 h-[2.5rem] w-[2.5rem] border" onclick="func(4,0)"></div>
                    <div class="board5 h-[2.5rem] w-[2.5rem] border" onclick="func(4,1)"></div>
                    <div class="board5 h-[2.5rem] w-[2.5rem] border" onclick="func(4,2)"></div>
                </div >
                <div class="h-[2.5rem] flex">
                    <div class="board6 h-[2.4rem] w-[2.5rem] border" onclick="func(5,0)"></div>
                    <div class="board6 h-[2.4rem] w-[2.5rem] border" onclick="func(5,1)"></div>
                    <div class="board6 h-[2.4rem] w-[2.5rem] border" onclick="func(5,2)"></div>
                </div>
            </div>
            <div class="h-[7.5rem] w-[7.5rem] border-r border-black">
                <div class="h-[2.5rem] flex">
                    <div class="board4 h-[2.5rem] w-[2.5rem] border" onclick="func(3,3)"></div>
                    <div class="board4 h-[2.5rem] w-[2.5rem] border" onclick="func(3,4)"></div>
                    <div class="board4 h-[2.5rem] w-[2.5rem] border" onclick="func(3,5)"></div>
                </div>
                <div class="h-[2.5rem] flex">
                    <div class="board5 h-[2.5rem] w-[2.5rem] border" onclick="func(4,3)"></div>
                    <div class="board5 h-[2.5rem] w-[2.5rem] border" onclick="func(4,4)"></div>
                    <div class="board5 h-[2.5rem] w-[2.5rem] border" onclick="func(4,5)"></div>
                </div >
                <div class="h-[2.5rem] flex">
                    <div class="board6 h-[2.4rem] w-[2.5rem] border" onclick="func(5,3)"></div>
                    <div class="board6 h-[2.4rem] w-[2.5rem] border" onclick="func(5,4)"></div>
                    <div class="board6 h-[2.4rem] w-[2.5rem] border" onclick="func(5,5)"></div>
                </div>
            </div>
            <div class="h-[7.5rem] w-[7.5rem]">
                <div class="h-[2.5rem] flex">
                    <div class="board4 h-[2.5rem] w-[2.5rem] border" onclick="func(3,6)"></div>
                    <div class="board4 h-[2.5rem] w-[2.5rem] border" onclick="func(3,7)"></div>
                    <div class="board4 h-[2.5rem] w-[2.5rem] border border-r-0" onclick="func(3,8)"></div>
                </div>
                <div class="h-[2.5rem] flex">
                    <div class="board5 h-[2.5rem] w-[2.5rem] border" onclick="func(4,6)"></div>
                    <div class="board5 h-[2.5rem] w-[2.5rem] border" onclick="func(4,7)"></div>
                    <div class="board5 h-[2.5rem] w-[2.5rem] border border-r-0" onclick="func(4,8)"></div>
                </div >
                <div class="h-[2.5rem] flex">
                    <div class="board6 h-[2.4rem] w-[2.5rem] border" onclick="func(5,6)"></div>
                    <div class="board6 h-[2.4rem] w-[2.5rem] border" onclick="func(5,7)"></div>
                    <div class="board6 h-[2.4rem] w-[2.5rem] border border-r-0" onclick="func(5,8)"></div>
                </div>
            </div>
        </div>
        <div class="h-[7.5rem] flex">
            <div class="h-[7.5rem] w-[7.5rem] border-r border-black">
                <div class="h-[2.5rem] flex">
                    <div class="board7 h-[2.5rem] w-[2.5rem] border" onclick="func(6,0)"></div>
                    <div class="board7 h-[2.5rem] w-[2.5rem] border" onclick="func(6,1)"></div>
                    <div class="board7 h-[2.5rem] w-[2.5rem] border" onclick="func(6,2)"></div>
                </div>
                <div class="h-[2.5rem] flex">
                    <div class="board8 h-[2.5rem] w-[2.5rem] border" onclick="func(7,0)"></div>
                    <div class="board8 h-[2.5rem] w-[2.5rem] border" onclick="func(7,1)"></div>
                    <div class="board8 h-[2.5rem] w-[2.5rem] border" onclick="func(7,2)"></div>
                </div >
                <div class="h-[2.5rem] flex">
                    <div class="board9 h-[2.4rem] w-[2.5rem] border" onclick="func(8,0)"></div>
                    <div class="board9 h-[2.4rem] w-[2.5rem] border" onclick="func(8,1)"></div>
                    <div class="board9 h-[2.4rem] w-[2.5rem] border" onclick="func(8,2)"></div>
                </div>
            </div>
            <div class="h-[7.5rem] w-[7.5rem] border-r border-black">
                <div class="h-[2.5rem] flex">
                    <div class="board7 h-[2.5rem] w-[2.5rem] border" onclick="func(6,3)"></div>
                    <div class="board7 h-[2.5rem] w-[2.5rem] border" onclick="func(6,4)"></div>
                    <div class="board7 h-[2.5rem] w-[2.5rem] border" onclick="func(6,5)"></div>
                </div>
                <div class="h-[2.5rem] flex">
                    <div class="board8 h-[2.5rem] w-[2.5rem] border" onclick="func(7,3)"></div>
                    <div class="board8 h-[2.5rem] w-[2.5rem] border" onclick="func(7,4)"></div>
                    <div class="board8 h-[2.5rem] w-[2.5rem] border" onclick="func(7,5)"></div>
                </div >
                <div class="h-[2.5rem] flex">
                    <div class="board9 h-[2.5rem] w-[2.5rem] border" onclick="func(8,3)"></div>
                    <div class="board9 h-[2.5rem] w-[2.5rem] border" onclick="func(8,4)"></div>
                    <div class="board9 h-[2.5rem] w-[2.5rem] border" onclick="func(8,5)"></div>
                </div>
            </div>
            <div class="h-[7.5rem] w-[7.5rem]">
                <div class="h-[2.5rem] flex">
                    <div class="board7 h-[2.5rem] w-[2.5rem] border" onclick="func(6,6)"></div>
                    <div class="board7 h-[2.5rem] w-[2.5rem] border" onclick="func(6,7)"></div>
                    <div class="board7 h-[2.5rem] w-[2.5rem] border border-r-0" onclick="func(6,8)"></div>
                </div>
                <div class="h-[2.5rem] flex">
                    <div class="board8 h-[2.5rem] w-[2.5rem] border" onclick="func(7,6)"></div>
                    <div class="board8 h-[2.5rem] w-[2.5rem] border" onclick="func(7,7)"></div>
                    <div class="board8 h-[2.5rem] w-[2.5rem] border border-r-0" onclick="func(7,8)"></div>
                </div >
                <div class="h-[2.5rem] flex">
                    <div class="board9 h-[2.5rem] w-[2.5rem] border" onclick="func(8,6)"></div>
                    <div class="board9 h-[2.5rem] w-[2.5rem] border" onclick="func(8,7)"></div>
                    <div class="board9 h-[2.5rem] w-[2.5rem] border border-r-0" onclick="func(8,8)"></div>
                </div>
            </div>
        </div>
    </section>
    <section class="bg-gray-100 w-[22.5rem] flex h-[13.5rem] lg:px-28 lg:py-16 lg:w-full lg:h-56">
        <div class="h-[13.5rem] w-60 lg:flex">
            <div class="h-[4.5rem] flex">
                <div class="h-[4.5rem] w-20 text-center text-4xl hover:bg-gray-200 py-3 lg:hover:bg-green-400" onclick="set('1')" id="1">1</div>
                <div class="h-[4.5rem] w-20 text-center text-4xl hover:bg-gray-200 py-3 lg:hover:bg-green-400" onclick="set('2')" id="2">2</div>
                <div class="h-[4.5rem] w-20 text-center text-4xl hover:bg-gray-200 py-3 lg:hover:bg-green-400" onclick="set('3')" id="3">3</div>
            </div>
            <div class="h-[4.5rem] flex">
                <div class="h-[4.5rem] w-20 text-center text-4xl hover:bg-gray-200 py-3 lg:hover:bg-green-400" onclick="set('4')" id="4">4</div>
                <div class="h-[4.5rem] w-20 text-center text-4xl hover:bg-gray-200 py-3 lg:hover:bg-green-400" onclick="set('5')" id="5">5</div>
                <div class="h-[4.5rem] w-20 text-center text-4xl hover:bg-gray-200 py-3 lg:hover:bg-green-400" onclick="set('6')" id="6">6</div>
            </div>
            <div class="h-[4.5rem] flex">
                <div class="h-[4.5rem] w-20 text-center text-4xl hover:bg-gray-200 py-3 lg:hover:bg-green-400" onclick="set('7')" id="7">7</div>
                <div class="h-[4.5rem] w-20 text-center text-4xl hover:bg-gray-200 py-3 lg:hover:bg-green-400" onclick="set('8')" id="8">8</div>
                <div class="h-[4.5rem] w-20 text-center text-4xl hover:bg-gray-200 py-3 lg:hover:bg-green-400" onclick="set('9')" id="9">9</div>
            </div>
        </div>
        <div class="h-[13.5rem] w-28 px-1 lg:flex lg:mx-[30rem] lg:px-0 lg:w-96">
            <button class="h-[4.5rem] w-28 text-2xl py-3 hover:bg-gray-200 lg:hover:bg-green-400" onclick="solve(0,0)" id="sol">Solve</button>
            <div class="h-[4.5rem] w-28 text-4xl text-center py-4 hover:bg-gray-200 lg:hover:bg-green-400" onclick="erase()">X</div>
            <button class="h-[4.5rem] w-28 text-2xl py-3 hover:bg-gray-200 lg:hover:bg-green-400" onclick="clr()">Clear All</button>
        </div>
    </section>
    <footer class="h-20 py-5 bg-black text-white text-center text-2xl font-semibold hidden lg:block">Thank you for playing!!!</footer>
    <script>
        let d='board';
        let c=[];
        for(let i='1';i<='9';i++){
            let t=d+i,b=[];
            let v=document.getElementsByClassName(t)
            for(let j=0;j<v.length;j++) b.push(v[j]);
            c.push(b);
        }
        let mat=[]
        for(let i=0;i<c.length;i++){
            let b=[];
            for(let j=0;j<c[i].length;j++) b.push(0)
            mat.push(b);
        }
        let h=document.getElementById('sol')
        c[0][0].style.backgroundColor='yellow';
        let check=(a,b,item)=>{
            for(let k=0;k<9;k++){
                if(mat[a][k] == item) return false
                if(mat[k][b] == item) return false
            }
            let rows,rowf,cols,colf;
            rows=a;
            while(rows%3)
                rows--;
            cols=b;
            while(cols%3)
                cols--;
            rowf=a;
            rowf++;
            while(rowf%3)
                rowf++;
            colf=b;
            colf++;
            while(colf%3)
                colf++;
            for (let i = rows; i < rowf; i++)
            {
                for (let j = cols; j < colf; j++)
                {
                    if (mat[i][j] == item)
                        return false;
                }
            }
            return true;
        }
        let sodoku=(i,j)=>{
            if(i == 8 && j == 9) return true;
            if(j == 9){
                i++;j=0;
            }
            if(mat[i][j]) return sodoku(i,j+1);
            for(let k=1;k<=9;k++){
                if(check(i,j,k)){
                    mat[i][j]=k;
                    if(sodoku(i,j+1)) return true;
                    mat[i][j]=0;
                }
            }
            return false;
        }
        let solve=()=>{
            h.innerText='Solved'
            for(let i=0;i<c.length;i++){
                for(let j=0;j<c[i].length;j++){
                    if(c[i][j].innerText == "") mat[i][j]=0;
                    else mat[i][j]=Number.parseInt(c[i][j].innerText);
                    c[i][j].style.backgroundColor=''
                }
            }
            sodoku(0,0)
            for(let i=0;i<c.length;i++){
                for(let j=0;j<c[i].length;j++){
                    if(c[i][j].innerText == ''){
                        c[i][j].style.color='blue';
                        c[i][j].innerText+=mat[i][j];
                        c[i][j].style.backgroundColor=''
                    } 
                }
            }
        }
        let func=(i,j)=>{
            if(h.innerText == 'Solved') return
            for(let i=0;i<c.length;i++){
                for(let j=0;j<c[i].length;j++){
                    c[i][j].style.backgroundColor=''
                }
            }
            c[i][j].style.backgroundColor='yellow'
        }
        let Error=(a,b,item)=>{
            for(let k=0;k<9;k++){
                if(c[a][k].innerText == item) return false;
                if(c[k][b].innerText == item) return false;
            }
            let rows,rowf,cols,colf;
            rows=a;
            while(rows%3)
                rows--;
            cols=b;
            while(cols%3)
                cols--;
            rowf=a;
            rowf++;
            while(rowf%3)
                rowf++;
            colf=b;
            colf++;
            while(colf%3)
                colf++;
            for (let i = rows; i < rowf; i++)
            {
                for (let j = cols; j < colf; j++)
                {
                    if (c[i][j].innerText == item)
                        return false;
                }
            }
            return true;
        }
        let set=(s)=>{
            if(h.innerText == 'Solved') return
            let a=0,b=0;
            for(let i=0;i<c.length;i++){
                for(let j=0;j<c[i].length;j++){
                    if(c[i][j].style.backgroundColor == 'yellow'){
                        a=i;b=j;
                    }
                }
            }
            if(c[a][b].innerText != s && !Error(a,b,s)){
                alert("You can't place this number here")
                return
            }
            c[a][b].innerText=s;
        }
        let erase=()=>{
            if(h.innerText == 'Solved') return
            let a=0,b=0;
            for(let i=0;i<c.length;i++){
                for(let j=0;j<c[i].length;j++){
                    if(c[i][j].style.backgroundColor == 'yellow'){
                        a=i;b=j;
                    }
                }
            }
            c[a][b].innerText=''
        }
        let clr=()=>{
            h.innerText = 'Solve'
            for(let i=0;i<c.length;i++){
                for(let j=0;j<c[i].length;j++){
                    c[i][j].innerText=''
                    c[i][j].style.color=''
                    c[i][j].style.backgroundColor=''
                }
            }
            c[0][0].style.backgroundColor='yellow';
        }
    </script>
</body>
</html>